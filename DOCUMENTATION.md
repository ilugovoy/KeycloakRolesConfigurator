<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# keycloak\-roles\-configurator\_v2\_2\_3\_pub

```go
import "KeycloakRolesConfigurator"
```

app.go содержит основную логику приложения

authentication.go предоставляет инструмент для настройки ролей в Keycloak

- Аутентификация в Keycloak \(OAuth2 Password Grant\)
- Управление иерархией групп и ролей
- Импорт/экспорт настроек из Excel

client.go предоставляет функционал для работы с Keycloak API

- Поиск клиентов по имени
- Управление иерархией групп
- Создание подгрупп для ролей

client.go предоставляет функционал для работы с Keycloak API

excel\_script.go предоставляет функционал для обработки Excel\-файла

- Читает Excel\-файл и преобразует его в массив Operation
- Разбивает строку LDAP\-групп на массив
- Генерирует URL для Keycloak на основе входных параметров из Excel\-файла
- Работает с инстансами: "Employee", "Partner", "Customer B2C/B2B"
- Работает с окружениями: "Production", "Preproduction", "Stage"

file\_utils.go содержит вспомогательные функции для работы с файлами

main.go

operation.go содержит основную структуру Operation и связанные с ней методы

role.go предоставляет функционал для управления ролями в Keycloak

user.go предоставляет функционал для работы с пользователями Keycloak

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func closeExcelFile\(f \*excelize.File\)](<#closeExcelFile>)
- [func createHTTPClient\(baseURL string\) \*resty.Client](<#createHTTPClient>)
- [func findExcelFiles\(dir string\) \(\[\]string, error\)](<#findExcelFiles>)
- [func getDomainByInstanceAndEnv\(instance, environment string\) string](<#getDomainByInstanceAndEnv>)
- [func getRealmByInstance\(instance string\) string](<#getRealmByInstance>)
- [func getURLAndRealm\(instance, environment string\) \(string, string\)](<#getURLAndRealm>)
- [func initLogger\(\) error](<#initLogger>)
- [func logError\(format string, v ...interface\{\}\)](<#logError>)
- [func logInfo\(format string, v ...interface\{\}\)](<#logInfo>)
- [func logWarn\(format string, v ...interface\{\}\)](<#logWarn>)
- [func main\(\)](<#main>)
- [func parseLDAPs\(ldaps string\) \[\]string](<#parseLDAPs>)
- [func readExcelRows\(config ExcelConfig\) \(\[\]\[\]string, error\)](<#readExcelRows>)
- [func validateExcelRow\(row \[\]string, rowNum int\) error](<#validateExcelRow>)
- [type App](<#App>)
  - [func NewApp\(version string\) \*App](<#NewApp>)
  - [func \(a \*App\) Run\(ctx context.Context\) error](<#App.Run>)
  - [func \(a \*App\) processFile\(file string\) error](<#App.processFile>)
  - [func \(a \*App\) processFiles\(files \[\]string\) error](<#App.processFiles>)
  - [func \(a \*App\) processOperation\(operation \*Operation, index, total int\) error](<#App.processOperation>)
- [type Assign](<#Assign>)
- [type Client](<#Client>)
- [type ExcelConfig](<#ExcelConfig>)
- [type Group](<#Group>)
- [type Operation](<#Operation>)
  - [func createOperationFromRow\(row \[\]string, rowNum int\) \(Operation, error\)](<#createOperationFromRow>)
  - [func processExcelRows\(rows \[\]\[\]string\) \[\]Operation](<#processExcelRows>)
  - [func readExcelFile\(filePath string\) \(\[\]Operation, error\)](<#readExcelFile>)
  - [func \(o \*Operation\) AddError\(error string\)](<#Operation.AddError>)
  - [func \(app \*Operation\) Authenticate\(\) error](<#Operation.Authenticate>)
  - [func \(app \*Operation\) FindClientIdByName\(\) error](<#Operation.FindClientIdByName>)
  - [func \(app \*Operation\) FindOrCreateGroupByName\(\) error](<#Operation.FindOrCreateGroupByName>)
  - [func \(app \*Operation\) addMember\(userId, groupId string\)](<#Operation.addMember>)
  - [func \(app \*Operation\) assignRole\(role, id, groupId string\)](<#Operation.assignRole>)
  - [func \(app \*Operation\) assignRoleWithGroup\(roleId string, subGroupId string, bar \*progressbar.ProgressBar\)](<#Operation.assignRoleWithGroup>)
  - [func \(app \*Operation\) buildAuthFormData\(\) map\[string\]string](<#Operation.buildAuthFormData>)
  - [func \(app \*Operation\) buildClientSearchParams\(\) map\[string\]string](<#Operation.buildClientSearchParams>)
  - [func \(app \*Operation\) buildRolesGroupSearchParams\(\) map\[string\]string](<#Operation.buildRolesGroupSearchParams>)
  - [func \(app \*Operation\) cacheAndSetClientID\(clientID string\)](<#Operation.cacheAndSetClientID>)
  - [func \(app \*Operation\) checkRateLimit\(ldap string\) error](<#Operation.checkRateLimit>)
  - [func \(app \*Operation\) configureClient\(session \*Session\)](<#Operation.configureClient>)
  - [func \(app \*Operation\) createClientSubgroup\(parentGroupID string\) error](<#Operation.createClientSubgroup>)
  - [func \(app \*Operation\) createRole\(roleName string\)](<#Operation.createRole>)
  - [func \(app \*Operation\) createSubGroup\(group string\) string](<#Operation.createSubGroup>)
  - [func \(app \*Operation\) fetchClients\(\) \(\[\]Client, error\)](<#Operation.fetchClients>)
  - [func \(app \*Operation\) findClientSubgroup\(rolesGroup \*Group\) string](<#Operation.findClientSubgroup>)
  - [func \(app \*Operation\) findRole\(roleName string, create bool\) string](<#Operation.findRole>)
  - [func \(app \*Operation\) findRolesGroup\(\) \(\*Group, error\)](<#Operation.findRolesGroup>)
  - [func \(app \*Operation\) getGroupSubgroups\(groupID string\) \(\[\]Group, error\)](<#Operation.getGroupSubgroups>)
  - [func \(app \*Operation\) getSubGroupByName\(groupName string\) string](<#Operation.getSubGroupByName>)
  - [func \(app \*Operation\) getUserIdByLdap\(ldap string\) string](<#Operation.getUserIdByLdap>)
  - [func \(app \*Operation\) getUserSearchParams\(ldap string\) map\[string\]string](<#Operation.getUserSearchParams>)
  - [func \(app \*Operation\) handleAuthError\(err error, res \*resty.Response\) error](<#Operation.handleAuthError>)
  - [func \(app \*Operation\) logClientSearchError\(res \*resty.Response\)](<#Operation.logClientSearchError>)
  - [func \(app \*Operation\) logGroupCreationError\(res \*resty.Response\)](<#Operation.logGroupCreationError>)
  - [func \(app \*Operation\) logGroupSearchError\(res \*resty.Response\)](<#Operation.logGroupSearchError>)
  - [func \(app \*Operation\) parseAuthResponse\(res \*resty.Response\) \(\*Session, error\)](<#Operation.parseAuthResponse>)
  - [func \(app \*Operation\) parseClientsResponse\(res \*resty.Response\) \(\[\]Client, error\)](<#Operation.parseClientsResponse>)
  - [func \(app \*Operation\) parseRolesGroupResponse\(res \*resty.Response\) \(\*Group, error\)](<#Operation.parseRolesGroupResponse>)
  - [func \(app \*Operation\) parseUserResponse\(resp \*resty.Response, ldap string\) string](<#Operation.parseUserResponse>)
  - [func \(o \*Operation\) printErrors\(\)](<#Operation.printErrors>)
  - [func \(app \*Operation\) processRole\(bar \*progressbar.ProgressBar\)](<#Operation.processRole>)
  - [func \(app \*Operation\) removeMember\(userId, groupId string\)](<#Operation.removeMember>)
  - [func \(app \*Operation\) removeUsersFromGroup\(subGroupId string, bar \*progressbar.ProgressBar\)](<#Operation.removeUsersFromGroup>)
  - [func \(app \*Operation\) resetTokenOnError\(err error, res \*resty.Response\)](<#Operation.resetTokenOnError>)
  - [func \(app \*Operation\) searchUser\(ldap string\) \(\*resty.Response, error\)](<#Operation.searchUser>)
  - [func \(app \*Operation\) sendAuthRequest\(\) \(\*resty.Response, error\)](<#Operation.sendAuthRequest>)
  - [func \(app \*Operation\) validateAuthParams\(\) error](<#Operation.validateAuthParams>)
  - [func \(app \*Operation\) validateClientSearchResults\(clients \[\]Client\) error](<#Operation.validateClientSearchResults>)
- [type Role](<#Role>)
- [type RoleResponse](<#RoleResponse>)
- [type Session](<#Session>)
- [type UserResponse](<#UserResponse>)
- [type colorWriter](<#colorWriter>)
  - [func \(cw \*colorWriter\) Write\(p \[\]byte\) \(n int, err error\)](<#colorWriter.Write>)


## Constants

<a id="tokenEndpoint"></a>

```go
const (
    tokenEndpoint = "/realms/{instance}/protocol/openid-connect/token"
    adminClientID = "admin-cli"
    grantType     = "password"
)
```

<a id="clientsEndpoint"></a>Константы для endpoint'ов и параметров

```go
const (
    clientsEndpoint       = "/admin/realms/{instance}/clients"
    groupsEndpoint        = "/admin/realms/{realm}/groups"
    groupChildrenEndpoint = "/admin/realms/{realm}/groups/{groupId}/children"
    defaultMaxResults     = 100
    rolesGroupName        = "Roles"
)
```

<a id="validTypes"></a>Константы для валидации входных данных

```go
const (
    validTypes        = "Employee|Partner|Customer"
    validEnvironments = "Prod|Dev|Test"
    validActions      = "Create new role and add users to this role|Associate users with role|Remove users from role"
    excelSheetName    = "Request"
    minColumnsCount   = 6
)
```

<a id="colorReset"></a>

```go
const (
    colorReset  = "\033[0m"
    colorRed    = "\033[31m"
    colorYellow = "\033[33m"
)
```

<a id="usersEndpoint"></a>

```go
const (
    usersEndpoint     = "/admin/realms/{instance}/users"
    userSearchTimeout = 5 * time.Second
)
```

## Variables

<a id="keycloakUser"></a>Данные будут встроены при сборке

```go
var (
    keycloakUser string
    keycloakPass string
)
```

<a id="logFile"></a>

```go
var (
    logFile *os.File
    logger  *log.Logger
)
```

<a id="clientIdCache"></a>Глобальные переменные

```go
var (
    clientIdCache   = make(map[string]string)
    userSearchLimit = rate.NewLimiter(rate.Every(time.Second), 10) // rate limiter
)
```

<a id="version"></a>версия по умолчанию, заполняется при сборке

```go
var version = "2.2.3"
```

<a id="closeExcelFile"></a>
closeExcelFile

```go
func closeExcelFile(f *excelize.File)
```

closeExcelFile безопасно закрывает файл Excel

<a id="createHTTPClient"></a>
createHTTPClient

```go
func createHTTPClient(baseURL string) *resty.Client
```

createHTTPClient создает и настраивает HTTP\-клиент

<a id="findExcelFiles"></a>
findExcelFiles

```go
func findExcelFiles(dir string) ([]string, error)
```

findExcelFiles ищет все Excel\-файлы в указанной директории

<a id="getDomainByInstanceAndEnv"></a>
getDomainByInstanceAndEnv

```go
func getDomainByInstanceAndEnv(instance, environment string) string
```

getDomainByInstanceAndEnv возвращает домен по типу инстанса и окружению

<a id="getRealmByInstance"></a>
getRealmByInstance

```go
func getRealmByInstance(instance string) string
```

getRealmByInstance возвращает realm по типу инстанса

<a id="getURLAndRealm"></a>
getURLAndRealm

```go
func getURLAndRealm(instance, environment string) (string, string)
```

getURLAndRealm генерирует URL и realm для Keycloak

<a id="initLogger"></a>
initLogger

```go
func initLogger() error
```



<a id="logError"></a>
logError

```go
func logError(format string, v ...interface{})
```



<a id="logInfo"></a>
logInfo

```go
func logInfo(format string, v ...interface{})
```



<a id="logWarn"></a>
logWarn

```go
func logWarn(format string, v ...interface{})
```



<a id="main"></a>
main

```go
func main()
```



<a id="parseLDAPs"></a>
parseLDAPs

```go
func parseLDAPs(ldaps string) []string
```

parseLDAPs разбивает строку LDAP\-групп на массив

<a id="readExcelRows"></a>
readExcelRows

```go
func readExcelRows(config ExcelConfig) ([][]string, error)
```

readExcelRows читает данные из Excel файла

<a id="validateExcelRow"></a>
validateExcelRow

```go
func validateExcelRow(row []string, rowNum int) error
```

validateExcelRow проверяет корректность строки из Excel\-файла

<a id="App"></a>
App

App представляет основное приложение

```go
type App struct {
    version       string
    consoleLogger *log.Logger
}
```

<a id="NewApp"></a>
### func NewApp

```go
func NewApp(version string) *App
```

NewApp создает новый экземпляр приложения

<a id="App.Run"></a>
### func \(\*App\) Run

```go
func (a *App) Run(ctx context.Context) error
```

Run запускает основную логику приложения

<a id="App.processFile"></a>
### func \(\*App\) processFile

```go
func (a *App) processFile(file string) error
```

processFile обрабатывает один файл

<a id="App.processFiles"></a>
### func \(\*App\) processFiles

```go
func (a *App) processFiles(files []string) error
```

processFiles обрабатывает найденные Excel\-файлы

<a id="App.processOperation"></a>
### func \(\*App\) processOperation

```go
func (a *App) processOperation(operation *Operation, index, total int) error
```

processOperation обрабатывает одну операцию

<a id="Assign"></a>
Assign

Assign используется для назначения ролей

```go
type Assign struct {
    ID   string `json:"id"`
    Name string `json:"name"`
}
```

<a id="Client"></a>
Client

Client представляет клиента в Keycloak

```go
type Client struct {
    ID       string `json:"id"`       // Внутренний UUID клиента
    ClientID string `json:"clientId"` // Публичный идентификатор (например "admin-cli")
    Name     string `json:"name"`     // Отображаемое имя
}
```

<a id="ExcelConfig"></a>
ExcelConfig

ExcelConfig содержит конфигурацию для работы с Excel

```go
type ExcelConfig struct {
    FilePath   string
    SheetName  string
    HeaderRows int
    MinColumns int
}
```

<a id="Group"></a>
Group

Group представляет иерархическую структуру групп Keycloak

```go
type Group struct {
    ID        string  `json:"id"`        // Уникальный ID группы
    Name      string  `json:"name"`      // Название группы
    SubGroups []Group `json:"subGroups"` // Рекурсивная структура подгрупп
}
```

<a id="Operation"></a>
Operation

Operation представляет одну операцию для обработки в Keycloak

```go
type Operation struct {
    client        *resty.Client
    ClientIdName  string
    realm         string
    action        string
    roleName      string
    ldaps         []string
    ldapsString   string
    clientId      string
    parentGroupId string
    errors        map[int]string
    errorCounter  int
}
```

<a id="createOperationFromRow"></a>
### func createOperationFromRow

```go
func createOperationFromRow(row []string, rowNum int) (Operation, error)
```

createOperationFromRow создает Operation из строки Excel

<a id="processExcelRows"></a>
### func processExcelRows

```go
func processExcelRows(rows [][]string) []Operation
```

processExcelRows обрабатывает строки Excel и преобразует их в операции

<a id="readExcelFile"></a>
### func readExcelFile

```go
func readExcelFile(filePath string) ([]Operation, error)
```

readExcelFile читает и парсит Excel\-файл, преобразуя его в массив Operation

<a id="Operation.AddError"></a>
### func \(\*Operation\) AddError

```go
func (o *Operation) AddError(error string)
```

AddError добавляет ошибку в коллекцию ошибок операции

<a id="Operation.Authenticate"></a>
### func \(\*Operation\) Authenticate

```go
func (app *Operation) Authenticate() error
```

Authenticate выполняет аутентификацию в Keycloak с использованием учётных данных, заданных при сборке бинарника через \-ldflags

<a id="Operation.FindClientIdByName"></a>
### func \(\*Operation\) FindClientIdByName

```go
func (app *Operation) FindClientIdByName() error
```

FindClientIdByName ищет клиента в Keycloak по имени и сохраняет его ID в Operation

<a id="Operation.FindOrCreateGroupByName"></a>
### func \(\*Operation\) FindOrCreateGroupByName

```go
func (app *Operation) FindOrCreateGroupByName() error
```

FindOrCreateGroupByName ищет или создает группу для ролей

<a id="Operation.addMember"></a>
### func \(\*Operation\) addMember

```go
func (app *Operation) addMember(userId, groupId string)
```

addMember добавляет пользователя в группу

<a id="Operation.assignRole"></a>
### func \(\*Operation\) assignRole

```go
func (app *Operation) assignRole(role, id, groupId string)
```

assignRole назначает роль группе

<a id="Operation.assignRoleWithGroup"></a>
### func \(\*Operation\) assignRoleWithGroup

```go
func (app *Operation) assignRoleWithGroup(roleId string, subGroupId string, bar *progressbar.ProgressBar)
```

assignRoleWithGroup назначает роль и добавляет пользователей в группу

<a id="Operation.buildAuthFormData"></a>
### func \(\*Operation\) buildAuthFormData

```go
func (app *Operation) buildAuthFormData() map[string]string
```

buildAuthFormData создаёт данные для формы аутентификации

<a id="Operation.buildClientSearchParams"></a>
### func \(\*Operation\) buildClientSearchParams

```go
func (app *Operation) buildClientSearchParams() map[string]string
```

buildClientSearchParams создает параметры для поиска клиента

<a id="Operation.buildRolesGroupSearchParams"></a>
### func \(\*Operation\) buildRolesGroupSearchParams

```go
func (app *Operation) buildRolesGroupSearchParams() map[string]string
```

buildRolesGroupSearchParams создает параметры для поиска группы "Roles"

<a id="Operation.cacheAndSetClientID"></a>
### func \(\*Operation\) cacheAndSetClientID

```go
func (app *Operation) cacheAndSetClientID(clientID string)
```

cacheAndSetClientID сохраняет ID клиента в кэш и структуру Operation

<a id="Operation.checkRateLimit"></a>
### func \(\*Operation\) checkRateLimit

```go
func (app *Operation) checkRateLimit(ldap string) error
```

checkRateLimit проверяет ограничение частоты запросов

<a id="Operation.configureClient"></a>
### func \(\*Operation\) configureClient

```go
func (app *Operation) configureClient(session *Session)
```

configureClient настраивает клиент для последующих запросов

<a id="Operation.createClientSubgroup"></a>
### func \(\*Operation\) createClientSubgroup

```go
func (app *Operation) createClientSubgroup(parentGroupID string) error
```

createClientSubgroup создает новую подгруппу для клиента

<a id="Operation.createRole"></a>
### func \(\*Operation\) createRole

```go
func (app *Operation) createRole(roleName string)
```

createRole создает новую роль в Keycloak

<a id="Operation.createSubGroup"></a>
### func \(\*Operation\) createSubGroup

```go
func (app *Operation) createSubGroup(group string) string
```

createSubGroup создает подгруппу для роли

<a id="Operation.fetchClients"></a>
### func \(\*Operation\) fetchClients

```go
func (app *Operation) fetchClients() ([]Client, error)
```

fetchClients выполняет запрос к API Keycloak для поиска клиентов

<a id="Operation.findClientSubgroup"></a>
### func \(\*Operation\) findClientSubgroup

```go
func (app *Operation) findClientSubgroup(rolesGroup *Group) string
```

findClientSubgroup ищет подгруппу клиента в группе "Roles"

<a id="Operation.findRole"></a>
### func \(\*Operation\) findRole

```go
func (app *Operation) findRole(roleName string, create bool) string
```

findRole ищет роль по имени с возможностью повторных попыток

<a id="Operation.findRolesGroup"></a>
### func \(\*Operation\) findRolesGroup

```go
func (app *Operation) findRolesGroup() (*Group, error)
```

findRolesGroup ищет родительскую группу "Roles"

<a id="Operation.getGroupSubgroups"></a>
### func \(\*Operation\) getGroupSubgroups

```go
func (app *Operation) getGroupSubgroups(groupID string) ([]Group, error)
```

getGroupSubgroups получает подгруппы указанной группы

<a id="Operation.getSubGroupByName"></a>
### func \(\*Operation\) getSubGroupByName

```go
func (app *Operation) getSubGroupByName(groupName string) string
```

getSubGroupByName ищет подгруппу по имени

<a id="Operation.getUserIdByLdap"></a>
### func \(\*Operation\) getUserIdByLdap

```go
func (app *Operation) getUserIdByLdap(ldap string) string
```

getUserIdByLdap ищет пользователя в Keycloak по LDAP\-логину

<a id="Operation.getUserSearchParams"></a>
### func \(\*Operation\) getUserSearchParams

```go
func (app *Operation) getUserSearchParams(ldap string) map[string]string
```

getUserSearchParams возвращает параметры поиска пользователя

<a id="Operation.handleAuthError"></a>
### func \(\*Operation\) handleAuthError

```go
func (app *Operation) handleAuthError(err error, res *resty.Response) error
```

handleAuthError обрабатывает ошибки аутентификации

<a id="Operation.logClientSearchError"></a>
### func \(\*Operation\) logClientSearchError

```go
func (app *Operation) logClientSearchError(res *resty.Response)
```

logClientSearchError логирует ошибку поиска клиента

<a id="Operation.logGroupCreationError"></a>
### func \(\*Operation\) logGroupCreationError

```go
func (app *Operation) logGroupCreationError(res *resty.Response)
```

logGroupCreationError логирует ошибку создания группы

<a id="Operation.logGroupSearchError"></a>
### func \(\*Operation\) logGroupSearchError

```go
func (app *Operation) logGroupSearchError(res *resty.Response)
```

logGroupSearchError логирует ошибку поиска группы

<a id="Operation.parseAuthResponse"></a>
### func \(\*Operation\) parseAuthResponse

```go
func (app *Operation) parseAuthResponse(res *resty.Response) (*Session, error)
```

parseAuthResponse парсит ответ от сервера аутентификации

<a id="Operation.parseClientsResponse"></a>
### func \(\*Operation\) parseClientsResponse

```go
func (app *Operation) parseClientsResponse(res *resty.Response) ([]Client, error)
```

parseClientsResponse парсит ответ от API Keycloak

<a id="Operation.parseRolesGroupResponse"></a>
### func \(\*Operation\) parseRolesGroupResponse

```go
func (app *Operation) parseRolesGroupResponse(res *resty.Response) (*Group, error)
```

parseRolesGroupResponse парсит ответ с информацией о группе "Roles"

<a id="Operation.parseUserResponse"></a>
### func \(\*Operation\) parseUserResponse

```go
func (app *Operation) parseUserResponse(resp *resty.Response, ldap string) string
```

parseUserResponse обрабатывает ответ от Keycloak

<a id="Operation.printErrors"></a>
### func \(\*Operation\) printErrors

```go
func (o *Operation) printErrors()
```

PrintErrors выводит ошибки в консоль

<a id="Operation.processRole"></a>
### func \(\*Operation\) processRole

```go
func (app *Operation) processRole(bar *progressbar.ProgressBar)
```

processRole обрабатывает роль в зависимости от действия

<a id="Operation.removeMember"></a>
### func \(\*Operation\) removeMember

```go
func (app *Operation) removeMember(userId, groupId string)
```

removeMember удаляет пользователя из группы

<a id="Operation.removeUsersFromGroup"></a>
### func \(\*Operation\) removeUsersFromGroup

```go
func (app *Operation) removeUsersFromGroup(subGroupId string, bar *progressbar.ProgressBar)
```

removeUsersFromGroup удаляет пользователей из группы

<a id="Operation.resetTokenOnError"></a>
### func \(\*Operation\) resetTokenOnError

```go
func (app *Operation) resetTokenOnError(err error, res *resty.Response)
```

resetTokenOnError сбрасывает токен при ошибке аутентификации

<a id="Operation.searchUser"></a>
### func \(\*Operation\) searchUser

```go
func (app *Operation) searchUser(ldap string) (*resty.Response, error)
```

searchUser выполняет поиск пользователя в Keycloak

<a id="Operation.sendAuthRequest"></a>
### func \(\*Operation\) sendAuthRequest

```go
func (app *Operation) sendAuthRequest() (*resty.Response, error)
```

sendAuthRequest отправляет запрос на аутентификацию

<a id="Operation.validateAuthParams"></a>
### func \(\*Operation\) validateAuthParams

```go
func (app *Operation) validateAuthParams() error
```

validateAuthParams проверяет обязательные параметры для аутентификации

<a id="Operation.validateClientSearchResults"></a>
### func \(\*Operation\) validateClientSearchResults

```go
func (app *Operation) validateClientSearchResults(clients []Client) error
```

validateClientSearchResults проверяет результаты поиска клиента

<a id="Role"></a>
Role

Role представляет структуру роли в Keycloak

```go
type Role struct {
    Name string `json:"name"`
}
```

<a id="RoleResponse"></a>
RoleResponse

RoleResponse содержит ответ API при создании роли/группы

```go
type RoleResponse struct {
    ID string `json:"id"`
}
```

<a id="Session"></a>
Session

Session представляет структуру ответа от сервера аутентификации Keycloak

- Содержит все поля, возвращаемые при успешной аутентификации

```go
type Session struct {
    AccessToken      string `json:"access_token"`       // Основной токен доступа
    ExpiresIn        int    `json:"expires_in"`         // Время жизни токена в секундах
    RefreshExpiresIn int    `json:"refresh_expires_in"` // Время жизни refresh-токена
    RefreshToken     string `json:"refresh_token"`      // Токен для обновления access token
    TokenType        string `json:"token_type"`         // Тип токена ("Bearer")
    NotBeforePolicy  int    `json:"not-before-policy"`  // Время, до которого токен недействителен
    SessionState     string `json:"session_state"`      // Идентификатор сессии
    Scope            string `json:"scope"`              // Области действия токена
}
```

<a id="UserResponse"></a>
UserResponse

UserResponse представляет структуру ответа API Keycloak при запросе пользователя

```go
type UserResponse struct {
    Id string `json:"id"`
}
```

<a id="colorWriter"></a>
colorWriter



```go
type colorWriter struct {
    w io.Writer
}
```

<a id="colorWriter.Write"></a>
### func \(\*colorWriter\) Write

```go
func (cw *colorWriter) Write(p []byte) (n int, err error)
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
